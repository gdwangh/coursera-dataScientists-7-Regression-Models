---
title: "Is an automatic or manual transmission better for MPG"
author: "wangh"
date: "Saturday, September 13, 2014"
output: html_document
---

This is an document to answer 2 questions below using regression models and exploratory data analyses: 

1. Is an automatic or manual transmission better for MPG
2. Quantify the MPG difference between automatic and manual transmissions

The mtcars data set is taken, and the variable "am" is for the Transmission (0 = automatic, 1 = manual)
```{r, fig.width=4}
library(datasets);library(car)
data(mtcars)
head(mtcars)
boxplot(mpg~am, data=mtcars, xlab="am(0 = automatic, 1 = manual)", ylab="mpg(Miles/(US) gallon")
```
As Fig-2 in Appendix, mean of miles per gallon for manual Transmission is higher than that of automatic Transmissions.

fit model with all variables and with only am variable:
```{r}
mtcars$am<-factor(mtcars$am)
fit1<-lm(mpg~am, data=mtcars)
fitn<-lm(mpg~., data=mtcars)
anova(fit1,fitn)
```
result of anova() is Fig-6 in appendix. For Pr(>F) is in level 0.001, it fails to reject the variables adding. So model with all variables fitn is selected

```{r}
summary(fitn)
```
Fig-4 in Appendix shows the coefficients. For am is a two level factor, am==0 is reference, and the Intercept Estimatesv is the mean of the referenct group am==0 and the other Estimates are the distances of the other groups' means from the reference mean, i.e we expect increase `r round(summary(fitn)$coefficients[9],4)`(E(am==1)) in mpg, when am change from 0 to 1, holding all the other variables constant.
```{r}
par(mfrow = c(2, 2))
 plot(fitn, which=1)
 plot(fitn, which=2)
 plot(fitn, which=3)
 plot(fitn, which=4)
 plot(fitn, which=5)
```

### Appendix 
Fig-1: summary of mtcars

Fig-2: miles per gallon for different Transmission plot

Fig-3: Cor between mpg and other variables in mtcars

Fig-4: summary of fitn, fitted model with all variable

Fig-5: summary of fitn, fitted model with variable am only

Fig-6: analysis of variance (or deviance) tables for 2 fitted model.

Fig-7: residuals versus fitted values plot 
plot(fit, which=1)
